<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài viết</title>
    <script>
        $(document).ready(function () {
            /*for (let index = 0; index < arraydivbaiviet.length; index++) {
                if(arraydivbaiviet[index].height() > maxheight){
                    arraydivbaiviet[index].css("height","100px");
                    arraydivbaiviet[index].find("p[p-name=baiviet]").css({"overflow-y":"hidden","height": "inherit"});
                    arraydivbaiviet[index].siblings("div").find("button[btn-name=xemthem]").css("display","block");
                }      
            }*/
        $("div[div-name=hinhbaiviet]").each(function() {
            var arr = $(this).find("img[img-name=hinhbaiviet]").toArray();
            console.log(arr.length);
            if(arr.length ==1){
               $(this).addClass("row-cols-1");
            }
            else if (arr.length == 2) {
                $(this).addClass("row-cols-2");                
            }else {
                $(this).addClass("row-cols-3");                
            }  
        });
            
            

            $("div[div-name=baiviet]").each(function(){
                if($(this).height() > 100){
                    $(this).css("height","100px");
                    $(this).find("p[p-name=baiviet]").css({"overflow-y":"hidden","height": "inherit"});
                    $(this).siblings("div").find("button[btn-name=xemthem]").css("display","block");
                }
            });

            $("div[div-name=binhluan]").each(function(index){
                if($(this).height() > 70){
                    $(this).css("height","100px");
                    $(this).find("p[p-name=binhluan]").css({"overflow-y":"hidden","height": "inherit"});
                    $(this).find("div button[btn-name=xemthem-binhluan]").css("display","block");
                }
                console.log(index + "cao: " +$(this).height());
            });

            $("button[btn-name=xemthem]").click(function(){
                $(this).closest("div").siblings("div[div-name=baiviet]").find("p").css({"overflow-y":"visible"});
                $(this).closest("div").siblings("div[div-name=baiviet]").css("height","auto");
                $(this).css("display","none");
                $(this).siblings("button[btn-name=an]").css("display","block");
            });

            $("button[btn-name=an]").click(function(){
                $(this).closest("div").siblings("div[div-name=baiviet]").find("p").css({"overflow-y":"hidden"});
                $(this).closest("div").siblings("div[div-name=baiviet]").css("height","100px");
                $(this).siblings("button[btn-name=xemthem]").css("display","block");
                $(this).css("display","none");
            });

            $("button[btn-name=xemthem-binhluan]").click(function(){
                $(this).closest("div").siblings("p").css({"overflow-y":"visible"});
                $(this).closest("div").closest("div[div-name=binhluan]").css("height","auto");
                $(this).css("display","none");
                $(this).siblings("button[btn-name=an-binhluan]").css("display","block");
            });

            $("button[btn-name=an-binhluan]").click(function(){
                $(this).closest("div").siblings("p").css({"overflow-y":"hidden"});
                $(this).closest("div").closest("div[div-name=binhluan]").css("height","100px");
                $(this).siblings("button[btn-name=xemthem-binhluan]").css("display","block");
                $(this).css("display","none");
            })
        });
    </script>
</head>
<body>
    <div>
        <form>
            <div class="form-group">
                <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Trải nghiệm của bạn hôm nay là gì?">
            </div>
        </form>
    </div>  
</body>
</html>